(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{486:function(a,s,t){"use strict";t.r(s);var e=t(13),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("Jupyter Notebook（此前被称为 IPython notebook）是一个"),t("strong",[a._v("交互式笔记本")]),a._v("，支持运行 40 多种编程语言。Jupyter Notebook 的本质是一个 Web 应用程序，便于创建和共享文学化程序文档，支持实时代码，数学方程，可视化和 "),t("a",{attrs:{href:"https://baike.baidu.com/item/markdown/3245829",target:"_blank",rel:"noopener noreferrer"}},[a._v("markdown"),t("OutboundLink")],1),a._v("。 用途包括：数据清理和转换，数值模拟，统计建模，机器学习等等")]),a._v(" "),t("h2",{attrs:{id:"快速搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速搭建"}},[a._v("#")]),a._v(" 快速搭建")]),a._v(" "),t("blockquote",[t("p",[a._v("使用C-S架构的形式进行搭建， 采用ubuntu 18.04 搭建服务端")])]),a._v(" "),t("h3",{attrs:{id:"anaconda-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#anaconda-安装"}},[a._v("#")]),a._v(" Anaconda 安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 官网地址  https://www.anaconda.com/products/individual")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://repo.anaconda.com/archive/Anaconda3-2020.02-Linux-x86_64.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 按照提示安装即可")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" Anaconda3-2020.02-Linux-x86_64.sh \n")])])]),t("h3",{attrs:{id:"用户设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户设置"}},[a._v("#")]),a._v(" 用户设置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 最好新建一个用户")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("groupadd")]),a._v(" jupyter \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" jupyter -m -g jupyter -s /bin/bash\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" jupyter\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 通过查看/root/.bashrc anaconda的环境部分复制到新用户/home/jupyter/.bashrc中")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# /root/.bashrc >>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# >>> conda initialize >>>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# !! Contents within this block are managed by 'conda init' !!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("__conda_setup")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("'/usr/local/anaconda3/bin/conda"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' '")]),a._v("shell.bash"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("' '")]),a._v("hook' "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("2")]),a._v(">")]),a._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$?")]),a._v(" -eq "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("eval")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$__conda_setup")]),a._v('"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(" -f "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/usr/local/anaconda3/etc/profile.d/conda.sh"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/usr/local/anaconda3/etc/profile.d/conda.sh"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/usr/local/anaconda3/bin:'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v('"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("unset")]),a._v(" __conda_setup\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# <<< conda initialize <<<")]),a._v("\n")])])]),t("h3",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[a._v("#")]),a._v(" 配置文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" jupyter\njupyter notebook --generate-config\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim ~/.jupyter/")]),a._v("\nc.NotebookApp.allow_remote_access "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" True\nc.NotebookApp.ip "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'*'")]),a._v("\nc.NotebookApp.notebook_dir "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/home/jupyter/workspace'")]),a._v("\nc.NotebookApp.open_browser "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" False\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# (base) jupyter@aliyun:~/.jupyter$ python")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Python 3.7.6 (default, Jan  8 2020, 19:59:22) ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# [GCC 7.3.0] :: Anaconda, Inc. on linux")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('# Type "help", "copyright", "credits" or "license" for more information.')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# >>> from notebook.auth import passwd")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# >>> passwd()")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Enter password: ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Verify password: ")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 'sha1:df09e4b2aa29:6713e02459a2058a49706651cdb2bbd252dfa3bb'")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# >>> ")]),a._v("\nc.NotebookApp.password "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'sha1:05879eabedc7:fe9d0d381b82a4cd88a4528310f8e3f7c41e0bf1'")]),a._v("\nc.NotebookApp.port "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8001")]),a._v("\n\n")])])]),t("h3",{attrs:{id:"脚本编写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本编写"}},[a._v("#")]),a._v(" 脚本编写")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vim /etc/systemd/system/jupyter.service")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Unit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Description")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jupyter notebook\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("After")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("network.target\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("User")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jupyter\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Group")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jupyter\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WorkingDirectory")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/home/jupyter\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PIDFile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/run/jupyter/jupyter.pid\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("EnvironmentFile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-/usr/local/anaconda3/bin/jupyter\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ExecStart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/anaconda3/bin/jupyter notebook \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ExecStop=/usr/bin/pkill /usr/local/anaconda3/bin/jupyter")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KillMode")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("process\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("on-failure\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("RestartSec")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("30s\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Install"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WantedBy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("multi-user.target                            \n")])])]),t("h3",{attrs:{id:"开启服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启服务"}},[a._v("#")]),a._v(" 开启服务")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" jupyter.service\nsystemctl start jupyter.service\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重导配置文件")]),a._v("\nsystemctl daemon-reload\n")])])]),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[a._v("#")]),a._v(" 参考文献")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/liuxia912/p/10960610.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("编写使用systemctl启动服务脚本"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);