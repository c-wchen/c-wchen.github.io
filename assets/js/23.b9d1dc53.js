(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{273:function(t,a,s){t.exports=s.p+"assets/img/image-20200822154814701.ed554036.png"},274:function(t,a,s){t.exports=s.p+"assets/img/v2-ce5f1949e23b8e0f44d612765657e7b5_r.b36c6771.jpg"},424:function(t,a,s){"use strict";s.r(a);var n=s(13),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("查看java编译后字节码， "),n("code",[t._v("javac ClassName.java && javap -v -p ClassName")]),t._v(", 通过vim打开字节码文件通过底部命令"),n("code",[t._v(":%!xxd")]),t._v("以十六进制查看文件")]),t._v(" "),n("p",[n("img",{attrs:{src:s(273),alt:"image-20200822154814701"}})]),t._v(" "),n("p",[t._v("第一个"),n("code",[t._v("cafe babe")]),t._v("表示魔数， "),n("code",[t._v("0000 0034")]),t._v("表示此版本号（minor version）、 主版本（major version）（java命令会通过查看版本和虚本地java环境对比， 如果class版本大于当前环境会抛出错误"),n("code",[t._v("UnsupportedClassVersionError")]),t._v("）， 版本对照表如下")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("JDK version")]),t._v(" "),n("th",[t._v("major")]),t._v(" "),n("th",[t._v("minor")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("1.6")]),t._v(" "),n("td",[t._v("50")]),t._v(" "),n("td",[t._v("0")])]),t._v(" "),n("tr",[n("td",[t._v("1.7")]),t._v(" "),n("td",[t._v("51")]),t._v(" "),n("td",[t._v("0")])]),t._v(" "),n("tr",[n("td",[t._v("1.8")]),t._v(" "),n("td",[t._v("52")]),t._v(" "),n("td",[t._v("0")])])])]),t._v(" "),n("h3",{attrs:{id:"常量池constant-pool"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常量池constant-pool"}},[t._v("#")]),t._v(" 常量池Constant pool")]),t._v(" "),n("p",[t._v("常量池中主要存放两大类常量：字面量（"),n("code",[t._v("Literal")]),t._v("）和符号引用（"),n("code",[t._v("Symbolic References")]),t._v("）")]),t._v(" "),n("ul",[n("li",[t._v("字面量比较接近于Java语言层面的常量概念，如文本字符串、声明为final的常量值等。")]),t._v(" "),n("li",[t._v("而符号引用则属于编译原理方面的概念，包括了下面三类常量：\n"),n("ul",[n("li",[t._v("类和接口的全限定名（"),n("code",[t._v("Fully Qualified Name")]),t._v("）")]),t._v(" "),n("li",[t._v("字段的名称和描述符（"),n("code",[t._v("Descriptor")]),t._v("）")]),t._v(" "),n("li",[t._v("方法的名称和描述符")])])])]),t._v(" "),n("p",[t._v("常量池的总体结构")]),t._v(" "),n("p",[t._v("常量池主要由"),n("strong",[t._v("常量池数量")]),t._v("与"),n("strong",[t._v("常量池数组")]),t._v("这两部分共同组成。"),n("strong",[t._v("常量池数量紧跟在主版本号后面")]),t._v("，占据2个字节（"),n("code",[t._v("u2")]),t._v("类型数据）；"),n("strong",[t._v("常量池数组则紧跟在常量池数量之后")]),t._v("。")]),t._v(" "),n("p",[t._v("注意： 常量池数组中的元素个数=常量池数-1（其中0暂时不使用），索引为0也是一个常量（保留常量），只不过它不位于常量表中，这个常量就对应"),n("code",[t._v("null")]),t._v("值；所以，常量池的索引从1开始而非0开始。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(274),alt:"img"}})]),t._v(" "),n("p",[t._v("其中 "),n("code",[t._v("CONSTANT_Utf8_info")]),t._v(" 类型的常量，它的 "),n("code",[t._v("length")]),t._v(" 值说明了这个 UTF-8 编码的字符串长度是多少字节，"),n("code",[t._v("bytes")]),t._v(" 的值为长度为 "),n("code",[t._v("length")]),t._v(" 字节的 UTF-8 缩略编码表示的字符串")]),t._v(" "),n("p",[n("em",[t._v("由于 Class 文件中方法、字段等都需要引用 "),n("code",[t._v("CONSTANT_Utf8_info")]),t._v(" 型常量来描述名称，所以 "),n("code",[t._v("CONSTANT_Utf8_info")]),t._v(" 型常量的最大长度也就是 Java 中方法、字段名的最大长度，即 "),n("code",[t._v("u2")]),t._v(" 的 65535，也就是说最大 65535 字节，即 64KB。")])]),t._v(" "),n("p",[t._v("Compile.java")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),t._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chen"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Compile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("p",[t._v("使用命令")]),t._v(" "),n("blockquote",[n("p",[t._v("javac Comile.java")])]),t._v(" "),n("blockquote",[n("p",[t._v("javap -v -p  Compile> Compile.txt")])]),t._v(" "),n("p",[t._v("Compile.txt")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("Classfile /D:/Documents/WorkSpace/jcompile/Compile.class\n  Last modified "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2020")]),t._v("-8-24"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" size "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("458")]),t._v(" bytes\n  MD5 checksum ef1ad2e7f4150d13fd7ee59bae827a79\n  Compiled from "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Compile.java"')]),t._v("\npublic class Compile\n  minor version: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  major version: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("52")]),t._v("\n  flags: ACC_PUBLIC, ACC_SUPER\nConstant pool:\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#1 = Methodref          #8.#18         // java/lang/Object."<init>":()V')]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#2 = Class              #19            // Compile")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#3 = Methodref          #2.#18         // Compile."<init>":()V')]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#4 = String             #20            // chen")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5 = Fieldref           #2.#21         // Compile.name:Ljava/lang/String;")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#6 = Fieldref           #22.#23        // java/lang/System.out:Ljava/io/PrintStream;")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#7 = Methodref          #24.#25        // java/io/PrintStream.print:(Ljava/lang/String;)V")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8 = Class              #26            // java/lang/Object")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#9 = Utf8               name")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#10 = Utf8               Ljava/lang/String;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#11 = Utf8               <init>")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#12 = Utf8               ()V")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#13 = Utf8               Code")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#14 = Utf8               LineNumberTable")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#15 = Utf8               main")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#16 = Utf8               SourceFile")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#17 = Utf8               Compile.java")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#18 = NameAndType        #11:#12        // "<init>":()V')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#19 = Utf8               Compile")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#20 = Utf8               chen")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#21 = NameAndType        #9:#10         // name:Ljava/lang/String;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#22 = Class              #27            // java/lang/System")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#23 = NameAndType        #28:#29        // out:Ljava/io/PrintStream;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#24 = Class              #30            // java/io/PrintStream")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#25 = NameAndType        #31:#32        // print:(Ljava/lang/String;)V")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#26 = Utf8               java/lang/Object")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#27 = Utf8               java/lang/System")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#28 = Utf8               out")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#29 = Utf8               Ljava/io/PrintStream;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#30 = Utf8               java/io/PrintStream")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#31 = Utf8               print")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#32 = Utf8               (Ljava/lang/String;)V")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  public static java.lang.String name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor: Ljava/lang/String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    flags: ACC_PUBLIC, ACC_STATIC\n\n  public Compile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("V\n    flags: ACC_PUBLIC\n    Code:\n      "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("stack")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("locals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args_size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(": aload_0\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(": invokespecial "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#1                  // Method java/lang/Object."<init>":()V')]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v("\n      LineNumberTable:\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n  public static void main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    descriptor: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("stack")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("locals")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args_size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(": new           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#2                  // class Compile")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(": dup\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(": invokespecial "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#3                  // Method "<init>":()V')]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(": astore_0\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(": ldc           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#4                  // String chen")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(": putstatic     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5                  // Field name:Ljava/lang/String;")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(": getstatic     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#6                  // Field java/lang/System.out:Ljava/io/PrintStream;")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v(": getstatic     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5                  // Field name:Ljava/lang/String;")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(": invokevirtual "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#7                  // Method java/io/PrintStream.print:(Ljava/lang/String;)V")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v("\n      LineNumberTable:\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v("\n        line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nSourceFile: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Compile.java"')]),t._v("\n\n")])])]),n("p",[t._v("以十六进制查看Compile.class")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("cafe babe 0000 0034 0021 0a00 0800 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1207")]),t._v("\n0013 0a00 0200 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1208")]),t._v(" 0014 0900 0200 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1509")]),t._v("\n0016 0017 0a00 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1800")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1907")]),t._v(" 001a 0100 046e\n616d "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6501")]),t._v(" 0012 4c6a "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6176")]),t._v(" 612f 6c61 6e67\n2f53 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7472")]),t._v(" 696e 673b 0100 063c 696e "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6974")]),t._v("\n3e01 0003 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2829")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5601")]),t._v(" 0004 436f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6465")]),t._v(" 0100\n0f4c 696e 654e 756d "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6265")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7254")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6162")]),t._v(" 6c65\n0100 046d "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6169")]),t._v(" 6e01 000a 536f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7572")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6365")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4669")]),t._v(" 6c65 0100 0c43 6f6d "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7069")]),t._v(" 6c65 2e6a\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6176")]),t._v(" 610c 000b 000c 0100 0743 6f6d "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7069")]),t._v("\n6c65 0100 0463 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6865")]),t._v(" 6e0c 0009 000a 0700\n1b0c 001c 001d 0700 1e0c 001f 0020 0100\n106a "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6176")]),t._v(" 612f 6c61 6e67 2f4f 626a "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6563")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7401")]),t._v(" 0010 6a61 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7661")]),t._v(" 2f6c 616e 672f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5379")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7374")]),t._v(" 656d 0100 036f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7574")]),t._v(" 0100 154c 6a61\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7661")]),t._v(" 2f69 6f2f "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5072")]),t._v(" 696e "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7453")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7472")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6561")]),t._v("\n6d3b 0100 136a "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6176")]),t._v(" 612f 696f 2f50 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7269")]),t._v("\n6e74 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5374")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7265")]),t._v(" 616d 0100 0570 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7269")]),t._v(" 6e74\n0100 "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1528")]),t._v(" 4c6a "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6176")]),t._v(" 612f 6c61 6e67 2f53\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7472")]),t._v(" 696e 673b "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2956")]),t._v(" 0021 0002 0008 0000\n0001 0009 0009 000a 0000 0002 0001 000b\n000c 0001 000d 0000 001d 0001 0001 0000\n0005 2ab7 0001 b100 0000 0100 0e00 0000\n0600 0100 0000 0100 0900 0f00 0c00 0100\n0d00 0000 3b00 0200 0100 0000 17bb 0002\n59b7 0003 4b12 04b3 0005 b200 06b2 0005\nb600 07b1 0000 0001 000e 0000 0012 0004\n0000 0004 0008 0005 000d 0006 0016 0007\n0001 0010 0000 0002 0011\n")])])]),n("p",[t._v("分部解释")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("cafe babe 魔数\n0000 0034 此版本、 主版本  "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("52")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("jdk1.8\n0021 常量池大小  0021 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("-32  （除零）\n \n\n\n序号    指令     值\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#1  \t0a  \t0008 0012 ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#2  \t07  \t0013")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#3  \t0a  \t0002 0012")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#4  \t08  \t0014")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#5  \t09  \t0002 0015")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#6  \t09  \t0016 0017")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#7  \t0a  \t0018 0019")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8  \t07  \t001a ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#9  \t01  \t0004 6e61 6d65")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#10 \t01  \t0012 4c6a 6176 612f 6c61 6e67 2f53 7472 696e 673b  //Ljava/lang/String;")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#11 \t01  \t0006 3c69 6e69 743e  //<init>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#12 \t01  \t0003 2829 56         //()V  ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#13 \t01  \t0004 436f 6465       //Code")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#14 \t01  \t000f 4c69 6e65 4e75 6d62 6572 5461 626c 65 //LineNumberTable")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#15 \t01  \t0004 6d61 696e  //main")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#16 \t01  \t000a 536f 7572 6365 4669 6c65  //SourceFile")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#17 \t01  \t000c 436f 6d70 696c 652e 6a61 7661 //Compile.java")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#18 \t0c  \t000b 000c ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#19 \t01  \t0007 436f 6d70 696c 65 //Compile")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#20 \t01  \t0004 6368 656e  //chen")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#21 \t0c  \t0009 000a ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#22 \t07  \t001b")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#23 \t0c  \t001c 001d")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#24 \t07  \t001e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#25 \t0c  \t001f 0020")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#26 \t01  \t0010 6a61 7661 2f6c 616e 672f 4f62 6a65 6374 //java/lang/Object")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#27 \t01  \t0010 6a61 7661 2f6c 616e 672f 5379 7374 656d //java/lang/System")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#28 \t01  \t0003 6f75 74  //out")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#29 \t01  \t0015 4c6a 6176 612f 696f 2f50 7269 6e74 5374 7265 616d 3b //Ljava/io/PrintStream;")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#30 \t01  \t0013 6a61 7661 2f69 6f2f 5072 696e 7453 7472 6561 6d   //java/io/PrintStream")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#31 \t01  \t0005 7072 696e 74    //print")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#32 \t01  \t0015 284c 6a61 7661 2f6c 616e 672f 5374 7269 6e67 3b29 5600 //(Ljava/lang/String;)V")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(" 0002 0008 0000\n0001 0009 0009 000a 0000 0002 0001 000b\n000c 0001 000d 0000 001d 0001 0001 0000\n0005 2ab7 0001 b100 0000 0100 0e00 0000\n0600 0100 0000 0100 0900 0f00 0c00 0100\n0d00 0000 3b00 0200 0100 0000 17bb 0002\n59b7 0003 4b12 04b3 0005 b200 06b2 0005\nb600 07b1 0000 0001 000e 0000 0012 0004\n0000 0004 0008 0005 000d 0006 0016 0007\n0001 0010 0000 0002 0011 \n")])])]),n("p",[t._v("注意： "),n("code",[t._v("CONSTANT_Utf8_info")]),t._v("后面两个字节是编码字符串的长度，所以 "),n("code",[t._v("CONSTANT_Utf8_info")]),t._v(" 型常量的最大长度也就是 Java 中方法、字段名的最大长度，即 "),n("code",[t._v("u2")]),t._v(" 的 65535，也就是说最大 65535 字节，即 64KB。")]),t._v(" "),n("p",[t._v("字节码的目的")]),t._v(" "),n("p",[t._v("一次编写， 到处运行， 与平台无关")]),t._v(" "),n("h3",{attrs:{id:"参考文献"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),n("p",[n("a",{attrs:{href:"%5Bhttps://greenhathg.github.io/2019/06/26/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AC%94%E8%AE%B0-%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%B8%B8%E9%87%8F%E6%B1%A0/%5D(https://greenhathg.github.io/2019/06/26/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AC%94%E8%AE%B0-%E5%AD%97%E8%8A%82%E7%A0%81%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%B8%B8%E9%87%8F%E6%B1%A0/)"}},[t._v("Java虚拟机笔记-字节码文件中的常量池")])]),t._v(" "),n("p",[t._v("https://zhuanlan.zhihu.com/p/99899962")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://tech.meituan.com/2019/09/05/java-bytecode-enhancement.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("字节码增强技术探索"),n("OutboundLink")],1),t._v("]")])])}),[],!1,null,null,null);a.default=e.exports}}]);