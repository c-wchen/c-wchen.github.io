(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{324:function(e,r,i){e.exports=i.p+"assets/img/scrapy_architecture_02-16393262067875.2ffcc187.png"},521:function(e,r,i){"use strict";i.r(r);var t=i(13),s=Object(t.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("ul",[t("li",[e._v("引擎(Scrapy Engine)，用来处理整个系统的数据流处理，触发事务。")]),e._v(" "),t("li",[e._v("调度器(Scheduler)，用来接受引擎发过来的请求，压入队列中，并在引擎再次请求的时候返回。")]),e._v(" "),t("li",[e._v("下载器(Downloader)，用于下载网页内容，并将网页内容返回给蜘蛛。")]),e._v(" "),t("li",[e._v("蜘蛛(Spiders)，蜘蛛是主要干活的，用它来制订特定域名或网页的解析规则。编写用于分析response并提取item(即获取到的item)或额外跟进的URL的类。 每个spider负责处理一个特定(或一些)网站。")]),e._v(" "),t("li",[e._v("项目管道(Item Pipeline)，负责处理有蜘蛛从网页中抽取的项目，他的主要任务是清晰、验证和存储数据。当页面被蜘蛛解析后，将被发送到项目管道，并经过几个特定的次序处理数据。")]),e._v(" "),t("li",[e._v("下载器中间件(Downloader Middlewares)，位于Scrapy引擎和下载器之间的钩子框架，主要是处理Scrapy引擎与下载器之间的请求及响应。")]),e._v(" "),t("li",[e._v("蜘蛛中间件(Spider Middlewares)，介于Scrapy引擎和蜘蛛之间的钩子框架，主要工作是处理蜘蛛的响应输入和请求输出。")]),e._v(" "),t("li",[e._v("调度中间件(Scheduler Middlewares)，介于Scrapy引擎和调度之间的中间件，从Scrapy引擎发送到调度的请求和响应。")])]),e._v(" "),t("p",[t("img",{attrs:{src:i(324),alt:"scrapy"}})]),e._v(" "),t("ol",[t("li",[e._v("引擎打开一个网站(open a domain)，找到处理该网站的Spider并向该spider请求第一个要爬取的URL(s)。")]),e._v(" "),t("li",[e._v("引擎从Spider中获取到第一个要爬取的URL并在调度器(Scheduler)以Request调度。")]),e._v(" "),t("li",[e._v("引擎向调度器请求下一个要爬取的URL。")]),e._v(" "),t("li",[e._v("调度器返回下一个要爬取的URL给引擎，引擎将URL通过下载中间件(请求(request)方向)转发给下载器(Downloader)。")]),e._v(" "),t("li",[e._v("一旦页面下载完毕，下载器生成一个该页面的Response，并将其通过下载中间件(返回(response)方向)发送给引擎。")]),e._v(" "),t("li",[e._v("引擎从下载器中接收到Response并通过Spider中间件(输入方向)发送给Spider处理。")]),e._v(" "),t("li",[e._v("Spider处理Response并返回爬取到的Item及(跟进的)新的Request给引擎。")]),e._v(" "),t("li",[e._v("引擎将(Spider返回的)爬取到的Item给Item Pipeline，将(Spider返回的)Request给调度器。")]),e._v(" "),t("li",[e._v("(从第二步)重复直到调度器中没有更多地request，引擎关闭该网站。")])]),e._v(" "),t("h2",{attrs:{id:"参考文献"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[e._v("#")]),e._v(" 参考文献")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/32167859",target:"_blank",rel:"noopener noreferrer"}},[e._v("Scrapy原理及流程"),t("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=s.exports}}]);